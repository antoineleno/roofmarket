<!--Property Details-->

{% extends "base.html" %}

{% block title %}Property Details{% endblock %}

{% block content %}
    <!-- Header Start -->
    <div class="container-fluid header bg-white p-0">
        <div class="row g-0 align-items-center flex-column-reverse flex-md-row">
            <div class="col-md-6 p-5 mt-lg-5">
                <h1 class="display-5 animated fadeIn mb-4">{{ property.title }}</h1>
                <h2 class="text-primary mb-4">
                    ${{ property.price }} {% if property.listing_type == "rent" %} <sub style="color: green; font-size: 0.8rem;">/month</sub> {% endif %}
                </h2> <!-- Price of the property -->
                <a href="{{url_for('app_views_wishlist.add_to_wishlist', property_id=property.id)}}">
                    <button class="btn btn-outline-primary mb-3">
                        <i class="fa fa-heart"></i> Add to Wishlist
                    </button>
                </a>
                
            </div>
            <div class="col-md-6 animated fadeIn">
                <img class="img-fluid" src="../../{{ property.Main_image }}" alt="">
            </div>
        </div>
    </div>
    <!-- Header End -->



    <!-- bar Start -->
    <div class="container-fluid bg-primary mb-5 wow fadeIn" data-wow-delay="0.1s" style="padding: 5px;"></div>
    <!-- bar End -->


    <!-- Property List Start -->
    <div class="container-xxl py-5">
        <div class="container">
            <div class="row g-0 gx-5 align-items-end">
                <div class="col-lg-6">
                    <div class="text-start mx-auto mb-5 wow slideInLeft" data-wow-delay="0.1s">
                        <h1 class="mb-3">Property Overview</h1>
                        <p>
                            {% if property.description|length > 100 %}
                                {{ property.description[:100] }}<span id="dots">...</span>
                                <span id="more" style="display: none;">{{ property.description[100:] }}</span>
                            {% else %}
                                {{ property.description }}
                            {% endif %}
                        </p>
                        {% if property.description|length > 100 %}
                            <a href="javascript:void(0);" onclick="readMore()" id="readMoreLink">Read more</a>
                        {% endif %}
                        
                    </div>
                </div>
            </div>
            <div class="container mt-5">
                <div class="row align-items-center"> <!-- Row for aligning items -->
                    <div class="col-md-6"> <!-- Column for the title -->
                        <h3 class="mb-0">Main Entrance</h3> <!-- Title of the image -->
                    </div>
                    <div class="col-md-6 animated fadeIn"> <!-- Column for the image -->
                        <a href="../../{{ property.Main_entrance }}" target="_self">
                            <img src="../../{{ property.Main_entrance }}" alt="Main Entrance" style="max-width: 100%; height: auto;"> 
                        </a>
                    </div>
                </div>
            </div>
            <div class="container mt-5">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <h3 class="mb-0">Kitchen</h3>
                    </div>
                    <div class="col-md-6 animated fadeIn">
                        <a href="../../{{ property.kitchen }}" target="_self">
                            <img src="../../{{ property.kitchen }}" alt="Kitchen" style="max-width: 100%; height: auto;"> 
                        </a>
                    </div>
                </div>
            </div>
            <div class="container mt-5">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <h3 class="mb-0">Living Room</h3>
                    </div>
                    <div class="col-md-6 animated fadeIn">
                        <a href="../../{{ property.living_room }}" target="_self">
                            <img src="../../{{ property.living_room }}" alt="Living room" style="max-width: 100%; height: auto;"> 
                        </a>
                    </div>
                </div>
            </div>
            <div class="container mt-5">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <h3 class="mb-0">Bedroom</h3>
                    </div>
                    <div class="col-md-6 animated fadeIn">
                        <a href="../../{{ property.bedroom }}" target="_self"></a>
                        <img src="../../{{ property.bedroom }}" alt="Bedroom" style="max-width: 100%; height: auto;"> <!-- Inline CSS for image -->
                    </div>
                </div>
            </div>
            <div class="container mt-5">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <h3 class="mb-0">Bathroom</h3>
                    </div>
                    <div class="col-md-6 animated fadeIn">
                        <a href="../../{{ property.bathroom }}" target="_self">
                            <img src="../../{{ property.bathroom }}" alt="Bathroom" style="max-width: 100%; height: auto;"> 
                        </a>
                    </div>
                </div>
            </div>
            <div class="container mt-5">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <h3 class="mb-0">Balcony</h3>
                    </div>
                    <div class="col-md-6 animated fadeIn">
                        <a href="../../{{ property.balcony }}" target="_self">
                            <img src="../../{{ property.balcony }}" alt="Balcony" style="max-width: 100%; height: auto;"> 
                        </a>
                    </div>
                </div>
            </div>                  
        </div>
    </div>
    <!-- Property List End -->

    <!-- Call to Action Start -->
    <div class="container-xxl py-5">
        <div class="container">
            <div class="bg-light rounded p-3">
                <div class="bg-white rounded p-4" style="border: 1px dashed rgba(0, 185, 142, .3)">
                    <div class="row g-5 align-items-center">
                        <div class="col-lg-6 wow fadeIn" data-wow-delay="0.1s">
                            <img class="img-fluid rounded w-100" src="{{ url_for('app_view_property.static', filename='img/call-to-action.jpg') }}" alt="">
                        </div>
                        <div class="col-lg-6 wow fadeIn" data-wow-delay="0.5s">
                            <div class="mb-4">
                                <h1 class="mb-3">Antoine LENO</h1>
                                <p>Get in touch with the listing agent for the house.</p>
                            </div>
                            <div class="d-flex justify-content-center align-items-center">
                                <!-- Message Button -->
                                <form action="{{ url_for('app_views_auth.new_conversation') }}" method="POST" class="me-2">
                                    <input type="hidden" name="current_user_id" value="{{ property.current_user }}">
                                    <input type="hidden" name="receiver_id" value="{{ property.property_owner }}">
                                    <input type="hidden" name="property_id" value="{{ property.id }}">
                                    <button type="submit" class="btn btn-primary py-1 px-2" aria-label="Make a phone call">
                                        <i class="fa fa-envelope me-1"></i>Message
                                    </button>
                                </form>
                                
                                <!-- Get Appointment Button -->
                                <form action="/get-appointment" method="POST">
                                    <button type="submit" class="btn btn-dark py-1 px-2" aria-label="Get an appointment">
                                        <i class="fa fa-calendar-alt me-1"></i>Get Appointment
                                    </button>
                                </form>
                            </div>
                                                           
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Call to Action End -->

{% endblock %}

